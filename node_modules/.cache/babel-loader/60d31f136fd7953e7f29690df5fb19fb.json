{"ast":null,"code":"import { computed, makeObservable, observable } from \"mobx\";\nconst removeTodo = (todos, id) => todos.filter(todo => todo.id !== id);\nconst addTodo = (todos, text) => [...todos, {\n  id: Math.max(0, Math.max(...todos.map(_ref => {\n    let {\n      id\n    } = _ref;\n    return id;\n  }))) + 1,\n  text,\n  done: false\n}];\nconst getTodosFromSessionStorage = () => {\n  const todos = sessionStorage.getItem(\"todos\");\n  if (!todos) {\n    return [];\n  }\n  return JSON.parse(todos);\n};\nclass Todos {\n  constructor() {\n    this.todos = getTodosFromSessionStorage();\n    this.newTodo = \"\";\n    makeObservable(this, {\n      todos: observable,\n      newTodo: observable,\n      unfinishedTodos: computed\n    });\n  }\n  get unfinishedTodos() {\n    return this.todos.filter(todo => !todo.done).length;\n  }\n  removeTodo(id) {\n    this.todos = removeTodo(this.todos, id);\n  }\n  addTodo() {\n    this.todos = addTodo(this.todos, this.newTodo);\n    this.newTodo = \"\";\n    sessionStorage.setItem(\"todos\", JSON.stringify(this.todos));\n  }\n}\nconst store = new Todos();\nexport default store;","map":{"version":3,"names":["computed","makeObservable","observable","removeTodo","todos","id","filter","todo","addTodo","text","Math","max","map","done","getTodosFromSessionStorage","sessionStorage","getItem","JSON","parse","Todos","constructor","newTodo","unfinishedTodos","length","setItem","stringify","store"],"sources":["C:/Users/Caterina Thimm/Documents/Dev/react-exercise-todo-list/src/store/store.ts"],"sourcesContent":["import { computed, makeObservable, observable } from \"mobx\";\r\n\r\nimport { Todo } from \"./store.types\";\r\n\r\nconst removeTodo = (todos: Todo[], id: number): Todo[] =>\r\n  todos.filter((todo) => todo.id !== id);\r\n\r\nconst addTodo = (todos: Todo[], text: string): Todo[] => [\r\n  ...todos,\r\n  {\r\n    id: Math.max(0, Math.max(...todos.map(({ id }) => id))) + 1,\r\n    text,\r\n    done: false,\r\n  },\r\n];\r\n\r\nconst getTodosFromSessionStorage = (): Todo[] => {\r\n  const todos = sessionStorage.getItem(\"todos\");\r\n\r\n  if (!todos) {\r\n    return [];\r\n  }\r\n\r\n  return JSON.parse(todos);\r\n};\r\n\r\nclass Todos {\r\n  todos: Todo[] = getTodosFromSessionStorage();\r\n  newTodo: string = \"\";\r\n\r\n  constructor() {\r\n    makeObservable(this, {\r\n      todos: observable,\r\n      newTodo: observable,\r\n      unfinishedTodos: computed,\r\n    });\r\n  }\r\n\r\n  get unfinishedTodos(): number {\r\n    return this.todos.filter((todo) => !todo.done).length;\r\n  }\r\n\r\n  removeTodo(id: number) {\r\n    this.todos = removeTodo(this.todos, id);\r\n  }\r\n\r\n  addTodo() {\r\n    this.todos = addTodo(this.todos, this.newTodo);\r\n    this.newTodo = \"\";\r\n    sessionStorage.setItem(\"todos\", JSON.stringify(this.todos));\r\n  }\r\n}\r\n\r\nconst store = new Todos();\r\n\r\nexport default store;\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,cAAc,EAAEC,UAAU,QAAQ,MAAM;AAI3D,MAAMC,UAAU,GAAG,CAACC,KAAa,EAAEC,EAAU,KAC3CD,KAAK,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKA,EAAE,CAAC;AAExC,MAAMG,OAAO,GAAG,CAACJ,KAAa,EAAEK,IAAY,KAAa,CACvD,GAAGL,KAAK,EACR;EACEC,EAAE,EAAEK,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACC,GAAG,CAAC,GAAGP,KAAK,CAACQ,GAAG,CAAC;IAAA,IAAC;MAAEP;IAAG,CAAC;IAAA,OAAKA,EAAE;EAAA,EAAC,CAAC,CAAC,GAAG,CAAC;EAC3DI,IAAI;EACJI,IAAI,EAAE;AACR,CAAC,CACF;AAED,MAAMC,0BAA0B,GAAG,MAAc;EAC/C,MAAMV,KAAK,GAAGW,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAE7C,IAAI,CAACZ,KAAK,EAAE;IACV,OAAO,EAAE;EACX;EAEA,OAAOa,IAAI,CAACC,KAAK,CAACd,KAAK,CAAC;AAC1B,CAAC;AAED,MAAMe,KAAK,CAAC;EAIVC,WAAW,GAAG;IAAA,KAHdhB,KAAK,GAAWU,0BAA0B,EAAE;IAAA,KAC5CO,OAAO,GAAW,EAAE;IAGlBpB,cAAc,CAAC,IAAI,EAAE;MACnBG,KAAK,EAAEF,UAAU;MACjBmB,OAAO,EAAEnB,UAAU;MACnBoB,eAAe,EAAEtB;IACnB,CAAC,CAAC;EACJ;EAEA,IAAIsB,eAAe,GAAW;IAC5B,OAAO,IAAI,CAAClB,KAAK,CAACE,MAAM,CAAEC,IAAI,IAAK,CAACA,IAAI,CAACM,IAAI,CAAC,CAACU,MAAM;EACvD;EAEApB,UAAU,CAACE,EAAU,EAAE;IACrB,IAAI,CAACD,KAAK,GAAGD,UAAU,CAAC,IAAI,CAACC,KAAK,EAAEC,EAAE,CAAC;EACzC;EAEAG,OAAO,GAAG;IACR,IAAI,CAACJ,KAAK,GAAGI,OAAO,CAAC,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACiB,OAAO,CAAC;IAC9C,IAAI,CAACA,OAAO,GAAG,EAAE;IACjBN,cAAc,CAACS,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAAC,IAAI,CAACrB,KAAK,CAAC,CAAC;EAC7D;AACF;AAEA,MAAMsB,KAAK,GAAG,IAAIP,KAAK,EAAE;AAEzB,eAAeO,KAAK"},"metadata":{},"sourceType":"module"}